<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Static Notes App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        :root { --primary: #0060df; --background: #f0f0f4; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--background); margin: 0; padding: 0; }
        .container { max-width: 700px; margin: 40px auto; background: white; border-radius: 8px; box-shadow: 0 4px 16px #0001; padding: 24px; }
        h1 { color: var(--primary); }
        #noteForm { display: flex; flex-direction: column; gap: 12px; margin-bottom: 24px; }
        textarea { width: 100%; min-height: 80px; border-radius: 4px; border: 1px solid #bbb; padding: 10px; font-size: 1rem; }
        button { background: var(--primary); color: white; border: none; border-radius: 4px; padding: 10px 16px; font-size: 1rem; cursor: pointer; }
        button[disabled] { opacity: 0.6; cursor: not-allowed; }
        .notes-list { display: flex; flex-direction: column; gap: 16px; }
        .note { position: relative; background: #f8faff; border-radius: 4px; padding: 16px; box-shadow: 0 1px 2px #0001; }
        .note-actions { position: absolute; top: 10px; right: 10px; display: flex; gap: 8px; }
        .note-actions button { background: #eee; color: #444; font-size: 0.9em; padding: 3px 8px; }
        .note small { color: #888; display: block; margin-top: 8px; }
        .import-export { margin-top: 32px; display: flex; gap: 12px; flex-wrap: wrap; }
        @media (max-width: 600px) {
            .container { padding: 8px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Static Notes App</h1>
        <form id="noteForm">
            <textarea id="noteContent" placeholder="Write a note..."></textarea>
            <button type="submit" id="saveBtn">Add Note</button>
            <input type="hidden" id="editId" value="">
        </form>

        <div class="notes-list" id="notesList"></div>

        <div class="import-export">
            <button onclick="exportNotes()">Export Notes</button>
            <label>
                <input type="file" id="importFile" style="display:none" accept=".json" onchange="importNotes(event)">
                <span style="background:var(--primary);color:white;padding:10px 16px;border-radius:4px;cursor:pointer;">Import Notes</span>
            </label>
        </div>
        <p style="font-size:0.95em;color:#666;margin-top:20px;">
            <b>Sync between devices:</b> Use <b>Export</b> to save notes as a file, then <b>Import</b> on another device/browser.<br>
            <i>All data is stored locally in your browser. No server or account needed.</i>
        </p>
    </div>
    <script>
        const STORAGE_KEY = 'static-notes-app';
        let notes = [];

        function loadNotes() {
            notes = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
        }

        function saveNotes() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(notes));
        }

        function renderNotes() {
            const list = document.getElementById('notesList');
            if (!notes.length) {
                list.innerHTML = '<p style="color:#888;">No notes yet.</p>';
                return;
            }
            list.innerHTML = notes.map(note => `
                <div class="note" data-id="${note.id}">
                    <div class="note-actions">
                        <button onclick="editNote('${note.id}')">‚úèÔ∏è Edit</button>
                        <button onclick="deleteNote('${note.id}')">üóëÔ∏è Delete</button>
                    </div>
                    <div class="content">${note.content.replace(/\n/g, '<br>')}</div>
                    <small>Last updated: ${new Date(note.updated).toLocaleString()}</small>
                </div>
            `).join('');
        }

        function addNote(content) {
            notes.unshift({
                id: Date.now().toString(),
                content,
                created: new Date().toISOString(),
                updated: new Date().toISOString()
            });
            saveNotes();
            renderNotes();
        }

        function updateNote(id, content) {
            const note = notes.find(n => n.id === id);
            if (note) {
                note.content = content;
                note.updated = new Date().toISOString();
                saveNotes();
                renderNotes();
            }
        }

        function deleteNote(id) {
            if (confirm('Delete this note?')) {
                notes = notes.filter(n => n.id !== id);
                saveNotes();
                renderNotes();
            }
        }

        function editNote(id) {
            const note = notes.find(n => n.id === id);
            if (note) {
                document.getElementById('noteContent').value = note.content;
                document.getElementById('editId').value = id;
                document.getElementById('saveBtn').textContent = 'Update Note';
            }
        }

        // Export notes as JSON file
        function exportNotes() {
            const blob = new Blob([JSON.stringify(notes, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'notes-export.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // Import notes from JSON file
        function importNotes(event) {
            const file = event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const imported = JSON.parse(e.target.result);
                    if (Array.isArray(imported)) {
                        // Merge: keep unique by id (favor imported)
                        const ids = new Set(imported.map(n => n.id));
                        notes = [...imported, ...notes.filter(n => !ids.has(n.id))];
                        saveNotes();
                        renderNotes();
                        alert('Notes imported!');
                    } else {
                        alert('Invalid file format.');
                    }
                } catch {
                    alert('Could not import notes.');
                }
            };
            reader.readAsText(file);
            // Reset input so you can re-import same file if needed
            event.target.value = '';
        }

        // Form handling
        document.getElementById('noteForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const content = document.getElementById('noteContent').value.trim();
            const editId = document.getElementById('editId').value;
            if (!content) return;
            if (editId) {
                updateNote(editId, content);
                document.getElementById('saveBtn').textContent = 'Add Note';
                document.getElementById('editId').value = '';
            } else {
                addNote(content);
            }
            document.getElementById('noteContent').value = '';
        });

        // Initial load
        loadNotes();
        renderNotes();

        // Expose deleteNote/editNote for inline buttons
        window.deleteNote = deleteNote;
        window.editNote = editNote;
    </script>
</body>
</html>
